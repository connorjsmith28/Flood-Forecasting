version: 2

models:
  - name: dim_sites
    description: Site dimension table combining Missouri Basin sites with metadata
    columns:
      - name: site_id
        description: USGS site identifier
        tests:
          - unique
          - not_null

  - name: fct_streamflow_hourly
    description: >
      Hourly streamflow observations joined with site metadata and weather.
      This is the primary fact table for flood forecasting models.
    columns:
      - name: site_id
        description: USGS site identifier
      - name: observation_hour
        description: Hour of observation (truncated from 15-min data)
      - name: streamflow_cfs_mean
        description: Mean discharge (cfs) for the hour
      - name: streamflow_cfs_max
        description: Maximum discharge (cfs) for the hour
      - name: streamflow_cfs_min
        description: Minimum discharge (cfs) for the hour
      - name: gage_height_ft_mean
        description: Mean water level (ft) for the hour
      - name: gage_height_ft_max
        description: Maximum water level (ft) for the hour
      - name: gage_height_ft_min
        description: Minimum water level (ft) for the hour
